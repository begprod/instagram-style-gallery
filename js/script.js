function loadData(){var a;$.ajax({type:"get",async:!1,cache:!1,url:"./data/images.json",dataType:"json",success:function(i,t){$.each(i,function(a){$(".grid").append('<div class="grid__unit grid__unit--30" data-img="'+i[a].img+'" data-title="'+i[a].profile_name+'" data-descr="'+i[a].location+'" data-index="'+i[a].id+'" data-likes="'+i[a].likes+'" style="background-image: url('+i[a].img+')"><img class="visuallyhidden" src="'+i[a].img+'"/></div>')}),a=i.length,$(".js-profile-posts").html(a)}})}function profileInfo(a,i){$(".js-profile-photo").attr("src",a),$(".js-profile-name").html(i)}$(document).ready(function(){loadData();var a=function(){var i=$(".popup__nav--left"),t=$(".popup__nav--right");i.removeClass("popup__nav--disable"),t.removeClass("popup__nav--disable");var e=$(".grid__unit--active").data("index");a.totalUnits=$(".grid__unit").length,1==e?i.addClass("popup__nav--disable"):i.removeClass("popup__nav--disable"),e==a.totalUnits?t.addClass("popup__nav--disable"):t.removeClass("popup__nav--disable")};$(".grid__unit").click(function(){$(".grid__unit").removeClass("grid__unit--active"),$(this).addClass("grid__unit--active"),showModal($(this)),a()}),$("body").on("click",".popup__nav--right, .popup__nav--left",function(){if(!$(this).hasClass("popup__nav--disable")){var i=$(".grid__unit--active").data("index"),t=parseInt(i+1);$(this).hasClass("popup__nav--left")&&(t-=2);var e=$(".grid__unit[data-index="+t+"]");e.length>0&&($(".grid__unit").removeClass("grid__unit--active"),showModal($(e)),e.first().addClass("grid__unit--active")),a()}})});var modalContent="";showModal=function(a){var i=a.data("title"),t=a.data("descr"),e=a.data("img"),s=a.data("likes");modalContent='<div class="popup__close"><i class="fa fa-times" aria-hidden="true"></i></div><div class="popup__wrapper"><div class="popup__nav popup__nav--left"><i class="fa fa-chevron-left" aria-hidden="true"></i></div><div class="popup__nav popup__nav--right"><i class="fa fa-chevron-right" aria-hidden="true"></i></div>',modalContent+='<div class="popup__img" style="background-image:url('+e+')">',modalContent+="</div>",modalContent+='<div class="popup__content">',modalContent+='<h3 class="popup__title">'+i+"</h3>",modalContent+='<p class="popup__descr">'+t+"</p>",modalContent+='<p class="popup__likes">'+s+"</p>",modalContent+="</div>",modalContent+="</div>";var o=$(".popup"),n=$(".overlay");o.html(modalContent),o.addClass("popup--active"),n.addClass("overlay--active"),$(".popup__close").click(function(){$(this).parent().removeClass("popup--active"),n.removeClass("overlay--active")}),n.click(function(){$(this).removeClass("overlay--active"),o.removeClass("popup--active")})},profileInfo("http://fillmurray.com/600/600","Fill_Murray");